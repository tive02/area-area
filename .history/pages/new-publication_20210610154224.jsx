import React, { useEffect, useState } from "react";
import { editorStateFromRaw, editorStateToJSON } from "megadraft";
import dynamic from "next/dynamic";
import actions from "megadraft/lib/actions/default";

const MegadraftEditor = dynamic(
  () => {
    return import("megadraft").then((mod) => mod.MegadraftEditor);
  },
  { loading: () => null, ssr: false }
);
//Import megadraft.css
import "megadraft/dist/css/megadraft.css";

import Header from "../components/organisms/Header";
import ButtonSubmit from "../components/atoms/ButtonSubmit";

class newPublication extends React.Component {
  constructor(props) {
    super(props);
    this.state = { editorState: editorStateFromRaw(null) };
  }

  onChange = (editorState) => {
    this.setState({ editorState });
  };
  onSaveClick = () => {
    const { editorState } = this.state;
    const content = editorStateToJSON(editorState);
    // Your function to save the content
    // save_my_content(content);
    console.log(content);
  };

  render() {
    const customActions = actions.concat([
      {
        type: "block",
        label: "H3",
        style: "header-three",
        icon: HeaderThreeIcon,
      },
    ]);
    return (
      //Add some margin left to show plugins sidebar
      <>
        <Header />
        <div class="py-16">
          <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div style={{ marginLeft: 80 }}>
              <MegadraftEditor
                editorState={this.state.editorState}
                onChange={this.onChange}
                placeholder="Agrega tu Articulo en este espacio."
                actions={customActions}
              />
            </div>
            <div>
              <ButtonSubmit
                value="Publicar"
                bgColor="bg-purple-700"
                hoverColor="bg-green-400"
                onClick={this.onSaveClick}
              />
            </div>
          </div>
        </div>
      </>
    );
  }
}

class HeaderThreeIcon extends React.Component {
  render() {
    return (
      <svg
        {...this.props}
        xmlns="http://www.w3.org/2000/svg"
        width="24pt"
        height="24pt"
        viewBox="0 0 24 24"
        version="1.1"
      >
        <g id="surface1">
          <path
            style=" stroke:none;fill-rule:evenodd;fill:rgb(100%,75.686275%,26.666667%);fill-opacity:1;"
            d="M 19.28125 16.453125 C 19.28125 17.628906 19.066406 18.652344 18.628906 19.539062 C 18.1875 20.421875 17.601562 21.15625 16.855469 21.75 C 16.101562 22.339844 15.234375 22.785156 14.234375 23.085938 C 13.234375 23.382812 12.164062 23.53125 11.023438 23.53125 C 10.253906 23.53125 9.542969 23.464844 8.878906 23.335938 C 8.222656 23.207031 7.640625 23.054688 7.132812 22.871094 C 6.628906 22.695312 6.203125 22.507812 5.863281 22.308594 C 5.523438 22.109375 5.28125 21.933594 5.128906 21.785156 C 4.984375 21.632812 4.875 21.414062 4.8125 21.132812 C 4.746094 20.851562 4.71875 20.453125 4.71875 19.921875 C 4.71875 19.5625 4.730469 19.269531 4.753906 19.03125 C 4.777344 18.789062 4.8125 18.59375 4.863281 18.441406 C 4.917969 18.292969 4.988281 18.1875 5.070312 18.125 C 5.160156 18.058594 5.257812 18.03125 5.375 18.03125 C 5.535156 18.03125 5.765625 18.125 6.058594 18.316406 C 6.351562 18.507812 6.726562 18.71875 7.1875 18.945312 C 7.644531 19.175781 8.199219 19.386719 8.839844 19.574219 C 9.472656 19.769531 10.214844 19.863281 11.054688 19.863281 C 11.605469 19.863281 12.101562 19.800781 12.535156 19.671875 C 12.976562 19.535156 13.347656 19.351562 13.652344 19.113281 C 13.957031 18.871094 14.1875 18.578125 14.351562 18.222656 C 14.507812 17.871094 14.589844 17.476562 14.589844 17.042969 C 14.589844 16.539062 14.457031 16.101562 14.179688 15.742188 C 13.902344 15.378906 13.546875 15.0625 13.097656 14.78125 C 12.65625 14.496094 12.152344 14.234375 11.589844 13.988281 C 11.03125 13.738281 10.449219 13.480469 9.847656 13.203125 C 9.25 12.929688 8.667969 12.617188 8.109375 12.265625 C 7.542969 11.917969 7.039062 11.5 6.597656 11.011719 C 6.152344 10.523438 5.792969 9.949219 5.515625 9.277344 C 5.242188 8.613281 5.105469 7.816406 5.105469 6.886719 C 5.105469 5.824219 5.304688 4.882812 5.699219 4.070312 C 6.09375 3.265625 6.628906 2.597656 7.296875 2.0625 C 7.972656 1.527344 8.761719 1.128906 9.671875 0.863281 C 10.582031 0.597656 11.554688 0.46875 12.574219 0.46875 C 13.097656 0.46875 13.628906 0.511719 14.15625 0.59375 C 14.6875 0.667969 15.179688 0.78125 15.636719 0.914062 C 16.097656 1.054688 16.503906 1.210938 16.859375 1.378906 C 17.214844 1.554688 17.449219 1.695312 17.566406 1.816406 C 17.675781 1.925781 17.753906 2.027344 17.796875 2.101562 C 17.835938 2.183594 17.871094 2.289062 17.902344 2.425781 C 17.929688 2.554688 17.949219 2.71875 17.960938 2.925781 C 17.972656 3.125 17.976562 3.371094 17.976562 3.671875 C 17.976562 4 17.972656 4.28125 17.953125 4.511719 C 17.9375 4.742188 17.90625 4.929688 17.867188 5.082031 C 17.824219 5.230469 17.765625 5.339844 17.695312 5.40625 C 17.617188 5.476562 17.519531 5.511719 17.390625 5.511719 C 17.265625 5.511719 17.066406 5.429688 16.789062 5.269531 C 16.515625 5.113281 16.171875 4.933594 15.773438 4.742188 C 15.367188 4.554688 14.902344 4.382812 14.375 4.230469 C 13.84375 4.070312 13.269531 3.996094 12.632812 3.996094 C 12.140625 3.996094 11.710938 4.054688 11.339844 4.175781 C 10.976562 4.292969 10.671875 4.464844 10.425781 4.675781 C 10.179688 4.886719 9.988281 5.140625 9.871094 5.441406 C 9.75 5.742188 9.691406 6.058594 9.691406 6.386719 C 9.691406 6.882812 9.824219 7.308594 10.09375 7.667969 C 10.367188 8.03125 10.730469 8.355469 11.183594 8.636719 C 11.636719 8.914062 12.152344 9.179688 12.730469 9.425781 C 13.296875 9.671875 13.886719 9.9375 14.484375 10.207031 C 15.085938 10.484375 15.671875 10.796875 16.242188 11.148438 C 16.820312 11.5 17.332031 11.917969 17.78125 12.40625 C 18.230469 12.894531 18.59375 13.464844 18.871094 14.128906 C 19.148438 14.785156 19.28125 15.5625 19.28125 16.453125 Z M 19.28125 16.453125 "
          />
          <path
            style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;"
            d="M 19.304688 13.949219 C 19.011719 13.246094 18.617188 12.621094 18.125 12.085938 C 17.648438 11.570312 17.097656 11.121094 16.488281 10.75 C 15.925781 10.398438 15.316406 10.074219 14.679688 9.78125 C 14.042969 9.492188 13.472656 9.238281 12.914062 8.996094 C 12.363281 8.761719 11.863281 8.503906 11.429688 8.242188 C 11.027344 7.988281 10.703125 7.703125 10.46875 7.386719 C 10.261719 7.109375 10.160156 6.78125 10.160156 6.386719 C 10.160156 6.113281 10.207031 5.855469 10.304688 5.621094 C 10.308594 5.617188 10.308594 5.613281 10.308594 5.613281 C 10.394531 5.390625 10.535156 5.203125 10.730469 5.03125 C 10.933594 4.855469 11.191406 4.71875 11.488281 4.621094 C 11.808594 4.515625 12.183594 4.464844 12.632812 4.464844 C 13.230469 4.464844 13.757812 4.535156 14.238281 4.679688 C 14.242188 4.679688 14.242188 4.679688 14.246094 4.679688 C 14.742188 4.824219 15.1875 4.988281 15.574219 5.164062 C 15.976562 5.363281 16.300781 5.527344 16.554688 5.675781 C 16.925781 5.890625 17.175781 5.980469 17.390625 5.980469 C 17.699219 5.980469 17.898438 5.855469 18.011719 5.75 C 18.148438 5.625 18.25 5.441406 18.316406 5.203125 C 18.367188 5.019531 18.402344 4.804688 18.421875 4.546875 C 18.4375 4.328125 18.445312 4.046875 18.445312 3.671875 C 18.445312 3.363281 18.441406 3.109375 18.425781 2.898438 C 18.414062 2.648438 18.390625 2.472656 18.359375 2.328125 C 18.320312 2.15625 18.273438 2.011719 18.214844 1.894531 C 18.210938 1.886719 18.210938 1.882812 18.207031 1.878906 C 18.140625 1.753906 18.035156 1.621094 17.898438 1.484375 C 17.742188 1.332031 17.496094 1.171875 17.070312 0.960938 C 17.066406 0.960938 17.066406 0.957031 17.0625 0.957031 C 16.6875 0.777344 16.265625 0.617188 15.777344 0.46875 C 15.773438 0.46875 15.773438 0.464844 15.769531 0.464844 C 15.265625 0.316406 14.746094 0.203125 14.226562 0.128906 C 13.675781 0.0429688 13.121094 0 12.574219 0 C 11.503906 0 10.484375 0.140625 9.542969 0.414062 C 8.582031 0.691406 7.730469 1.121094 7.003906 1.695312 C 6.28125 2.273438 5.699219 3.003906 5.277344 3.867188 C 4.851562 4.742188 4.636719 5.757812 4.636719 6.886719 C 4.636719 7.878906 4.789062 8.746094 5.082031 9.457031 C 5.378906 10.175781 5.773438 10.804688 6.25 11.328125 C 6.6875 11.808594 7.1875 12.234375 7.746094 12.589844 C 7.960938 12.726562 8.253906 12.664062 8.390625 12.445312 C 8.53125 12.230469 8.46875 11.9375 8.25 11.800781 C 7.765625 11.488281 7.324219 11.117188 6.945312 10.695312 C 6.535156 10.246094 6.207031 9.726562 5.949219 9.097656 C 5.699219 8.5 5.574219 7.753906 5.574219 6.886719 C 5.574219 5.902344 5.757812 5.023438 6.121094 4.277344 C 6.480469 3.542969 6.976562 2.917969 7.589844 2.429688 C 8.226562 1.925781 8.949219 1.5625 9.804688 1.3125 C 10.660156 1.0625 11.59375 0.9375 12.574219 0.9375 C 13.074219 0.9375 13.582031 0.976562 14.085938 1.054688 C 14.085938 1.054688 14.089844 1.054688 14.089844 1.054688 C 14.566406 1.125 15.042969 1.230469 15.503906 1.363281 C 15.945312 1.5 16.324219 1.644531 16.65625 1.800781 C 17.0625 2.003906 17.191406 2.105469 17.234375 2.144531 C 17.328125 2.242188 17.367188 2.300781 17.378906 2.320312 C 17.394531 2.355469 17.417969 2.417969 17.445312 2.53125 C 17.464844 2.625 17.480469 2.761719 17.492188 2.953125 C 17.503906 3.144531 17.507812 3.386719 17.507812 3.671875 C 17.507812 4.023438 17.5 4.28125 17.484375 4.476562 C 17.472656 4.671875 17.445312 4.835938 17.414062 4.957031 C 17.402344 4.992188 17.394531 5.019531 17.386719 5.039062 C 17.34375 5.027344 17.238281 4.988281 17.023438 4.863281 C 16.746094 4.703125 16.402344 4.527344 15.976562 4.320312 C 15.976562 4.320312 15.972656 4.316406 15.96875 4.316406 C 15.542969 4.117188 15.050781 3.9375 14.507812 3.78125 C 13.9375 3.609375 13.324219 3.527344 12.632812 3.527344 C 12.082031 3.527344 11.609375 3.59375 11.199219 3.730469 C 10.78125 3.863281 10.421875 4.0625 10.121094 4.320312 C 9.808594 4.585938 9.578125 4.90625 9.4375 5.265625 C 9.292969 5.617188 9.222656 5.992188 9.222656 6.386719 C 9.222656 6.984375 9.390625 7.511719 9.71875 7.949219 C 10.023438 8.355469 10.429688 8.722656 10.9375 9.039062 C 11.414062 9.328125 11.953125 9.605469 12.542969 9.855469 C 13.09375 10.09375 13.664062 10.351562 14.289062 10.632812 C 14.890625 10.910156 15.464844 11.214844 16 11.546875 C 16.542969 11.878906 17.015625 12.265625 17.4375 12.722656 C 17.851562 13.175781 18.1875 13.707031 18.4375 14.308594 C 18.6875 14.902344 18.8125 15.625 18.8125 16.453125 C 18.8125 17.5625 18.617188 18.503906 18.210938 19.332031 C 17.796875 20.160156 17.257812 20.832031 16.566406 21.382812 C 15.855469 21.933594 15.027344 22.355469 14.097656 22.636719 C 13.15625 22.917969 12.121094 23.0625 11.023438 23.0625 C 10.28125 23.0625 9.609375 23 8.96875 22.878906 C 8.316406 22.75 7.769531 22.601562 7.292969 22.433594 C 7.289062 22.429688 7.289062 22.429688 7.289062 22.429688 C 6.8125 22.265625 6.414062 22.089844 6.101562 21.90625 C 5.746094 21.695312 5.558594 21.546875 5.460938 21.453125 C 5.378906 21.363281 5.3125 21.222656 5.269531 21.027344 C 5.214844 20.789062 5.1875 20.417969 5.1875 19.921875 C 5.1875 19.582031 5.199219 19.304688 5.21875 19.074219 C 5.238281 18.867188 5.269531 18.707031 5.308594 18.597656 C 5.328125 18.542969 5.34375 18.511719 5.355469 18.5 C 5.359375 18.5 5.363281 18.5 5.375 18.5 C 5.375 18.5 5.496094 18.507812 5.800781 18.710938 C 5.800781 18.710938 5.804688 18.710938 5.804688 18.714844 C 6.125 18.917969 6.519531 19.136719 6.976562 19.367188 C 7.464844 19.609375 8.042969 19.832031 8.703125 20.023438 C 9.371094 20.230469 10.164062 20.332031 11.054688 20.332031 C 11.648438 20.332031 12.191406 20.261719 12.671875 20.117188 C 13.179688 19.960938 13.59375 19.753906 13.941406 19.480469 C 14.300781 19.199219 14.578125 18.84375 14.777344 18.421875 C 14.777344 18.421875 14.777344 18.417969 14.777344 18.417969 C 14.964844 18 15.058594 17.539062 15.058594 17.042969 C 15.058594 16.429688 14.890625 15.894531 14.554688 15.460938 C 14.246094 15.050781 13.851562 14.699219 13.351562 14.386719 C 12.945312 14.125 12.480469 13.875 11.96875 13.640625 C 11.730469 13.535156 11.453125 13.640625 11.347656 13.875 C 11.238281 14.109375 11.34375 14.386719 11.578125 14.496094 C 12.050781 14.710938 12.476562 14.9375 12.847656 15.175781 C 13.253906 15.433594 13.566406 15.710938 13.808594 16.03125 C 14.019531 16.304688 14.121094 16.636719 14.121094 17.042969 C 14.121094 17.402344 14.054688 17.734375 13.925781 18.027344 C 13.789062 18.316406 13.605469 18.550781 13.359375 18.742188 C 13.105469 18.945312 12.789062 19.101562 12.402344 19.21875 C 12.011719 19.335938 11.558594 19.394531 11.054688 19.394531 C 10.253906 19.394531 9.554688 19.304688 8.976562 19.128906 C 8.972656 19.128906 8.972656 19.125 8.96875 19.125 C 8.363281 18.949219 7.835938 18.746094 7.394531 18.527344 C 6.96875 18.3125 6.605469 18.113281 6.3125 17.925781 C 5.941406 17.679688 5.636719 17.5625 5.375 17.5625 C 5.15625 17.5625 4.960938 17.625 4.792969 17.746094 C 4.789062 17.75 4.785156 17.753906 4.78125 17.753906 C 4.625 17.878906 4.507812 18.054688 4.421875 18.28125 C 4.421875 18.285156 4.421875 18.285156 4.421875 18.289062 C 4.359375 18.472656 4.316406 18.695312 4.285156 18.984375 C 4.261719 19.242188 4.25 19.550781 4.25 19.921875 C 4.25 20.503906 4.28125 20.921875 4.355469 21.238281 C 4.4375 21.601562 4.585938 21.894531 4.792969 22.109375 C 4.796875 22.113281 4.800781 22.121094 4.804688 22.125 C 4.996094 22.304688 5.269531 22.503906 5.625 22.714844 C 5.992188 22.925781 6.445312 23.128906 6.976562 23.316406 C 7.496094 23.503906 8.089844 23.660156 8.789062 23.796875 C 9.488281 23.933594 10.21875 24 11.023438 24 C 12.210938 24 13.335938 23.84375 14.367188 23.535156 C 15.40625 23.222656 16.339844 22.746094 17.144531 22.117188 C 17.9375 21.488281 18.578125 20.691406 19.050781 19.746094 C 19.515625 18.796875 19.75 17.691406 19.75 16.453125 C 19.75 15.5 19.601562 14.65625 19.304688 13.949219 Z M 19.304688 13.949219 "
          />
          <path
            style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;"
            d="M 10.316406 13.203125 C 10.316406 12.945312 10.109375 12.734375 9.847656 12.734375 C 9.589844 12.734375 9.378906 12.945312 9.378906 13.203125 C 9.378906 13.464844 9.589844 13.671875 9.847656 13.671875 C 10.109375 13.671875 10.316406 13.464844 10.316406 13.203125 Z M 10.316406 13.203125 "
          />
        </g>
      </svg>
    );
  }
}
export default newPublication;
